<!-- instrumentals/templates/instrumentals/beatlist.html -->

{% extends "base.html" %}

{% block content %}
<h1>Available Beats</h1>
<ul>
    {% for beat in instrumentals %}  <!-- Change 'instrumentals' to 'beats' -->
    <li>
        <img src="{{ beat.cover_image.url }}" alt="{{ beat.title }}" width="100">
        <h3>{{ beat.title }}</h3>
        <p>By: {{ beat.producer }}</p>
        <p>Price: ${{ beat.price }}</p>
        <audio controls>
            <source src="{{ beat.audio_file.url }}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <a href="{% url 'beat_detail' beat.id %}">View Details</a> 
        <a href="{% url 'add_to_cart' beat.id %}">Add to Cart</a>
    </li>
    {% empty %}
    <li>No beats available.</li>  <!-- Optional: display message if no beats -->
    {% endfor %}
</ul>
{% endblock %}
